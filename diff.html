<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=ISO-8859-1" />
    <title> %s (diff) </title>
    <!-- CSS is based upon the one used by Python's difflib.HtmlDiff.make_file() -->
    <style type="text/css">
        .head {
            font-family: Courier;
            font-size: 20px;
        }
        table.diff {
            font-family: Courier;
            font-size: 12px;
            border: medium;
        }
        .info-key {
            font-family: Courier;
            font-size: 12px;
            font-weight: bold;
        }
        .info-value {
            font-family: Courier;
            font-size: 12px;
        }
        tr:hover {
            background-color: #b7ebfc50;
        }
        /* colored like GitHub */
        .from_line {background-color:rgba(255, 233, 236, 0.7)}
        [id^="from"] + td > span.diff_chg {background-color:rgba(242, 160, 171, 0.7)}
        [id^="from"] + td > span.diff_sub {background-color:rgba(242, 160, 171, 0.7)}
        .to_line {background-color:rgba(225, 255, 232, 0.7)}
        [id^="to"] + td > span.diff_add {background-color: rgba(159, 242, 176, 0.7)}
        [id^="to"] + td > span.diff_chg {background-color:rgba(159, 242, 176, 0.7)}
        .diff_header { background-color:#e0e0e0 }
        td.diff_header { text-align:right }
        .diff_next {background-color:#eeeeee}
    </style>
    <script>
        function colorEntireDiffLines() {
            spans_add = Array.from(document.getElementsByClassName("diff_add"));
            spans_chg = Array.from(document.getElementsByClassName("diff_chg"));
            spans_sub = Array.from(document.getElementsByClassName("diff_sub"));
            for (var span_node of spans_add.concat(spans_chg).concat(spans_sub)) {
                var parent = span_node.parentElement;        // td
                var parentPrevious = parent.previousSibling; // td
                if (parentPrevious.id.startsWith("from")) {
                    parent.classList.add("from_line");
                }
                if (parentPrevious.id.startsWith("to")) {
                    parent.classList.add("to_line");
                }
            }
        }
    </script>
</head>

<body onload="colorEntireDiffLines()">
    <h1 class="head">Diff</h1>
    <p>
        <span class="info-key">description</span><br>
        <span class="info-value">&nbsp;&nbsp;%s</span>
    </p>
    <p>
        <span class="info-key">command</span><br>
        <span class="info-value">&nbsp;&nbsp;%s</span>
    </p>
    <p>
        <span class="info-key">golden stdout (left)</span><br>
        <span class="info-value">&nbsp;&nbsp;<a href='%s'>%s</a></span>
    </p>
    <p>
        <span class="info-key">actual stdout (right)</span><br>
        <span class="info-value">&nbsp;&nbsp;<a href='%s'>%s</a></span>
    </p>

    <!-- table placeholder: Python's difflib.HtmlDiff.make_table() -->
    %s
</body>
</html>
